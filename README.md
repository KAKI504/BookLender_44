# BookLender - Библиотечная система

## Описание проекта
BookLender - это простая система управления библиотекой, которая позволяет пользователям регистрироваться, авторизоваться, просматривать доступные книги, брать их и возвращать. Система также отслеживает историю взятых книг.

## Функциональность
- Регистрация новых пользователей
- Авторизация существующих пользователей
- Просмотр списка доступных книг
- Просмотр детальной информации о книге
- Возможность взять книгу
- Возможность вернуть книгу
- Просмотр профиля пользователя с историей взятых книг
- Проверка лимита книг на руках у пользователя

## Структура проекта
- `src/` - исходный код
    - `lesson44/` - основные классы проекта
        - `Book.java` - модель книги
        - `Employee.java` - модель сотрудника
        - `BookDataModel.java` - модель данных для работы с книгами
        - `Lesson44Server.java` - базовый сервер приложения
        - `Lesson45Server.java` - расширенный сервер с функционалом регистрации
        - `SampleDataModel.java` - модель примера данных
    - `server/` - базовые классы сервера
        - `BasicServer.java` - базовый класс сервера
        - `ContentType.java` - типы контента
        - `ResponseCodes.java` - коды ответов
        - `RouteHandler.java` - обработчик маршрутов
- `data/` - директория с файлами
    - `css/` - стили
    - `images/` - изображения книг
    - `json/` - JSON файлы с данными
    - `*.ftlh` - шаблоны FreeMarker

## Требования
- Java 8+
- FreeMarker 2.3.29+
- Gson 2.10.1+

## Установка и запуск
1. Клонировать репозиторий
2. Перейти в директорию проекта
3. Убедиться, что все зависимости доступны:
    - FreeMarker JAR в директории `vendor/`
    - Gson JAR в директории `data/gson/`
4. Скомпилировать и запустить проект через IDE или командную строку
5. Открыть в браузере: http://localhost:9889

## Регистрация и авторизация
- Для регистрации нового пользователя перейдите по пути `/registration`
- Заполните форму с email, именем и паролем
- После успешной регистрации вы можете войти в систему, используя свои учетные данные
- Для входа в систему используйте путь `/login` и введите email и пароль
- Также можно использовать предустановленные учетные данные:
    - Email: ivan@mail.com, Пароль: password1
    - Email: petr@mail.com, Пароль: password2

## Структура данных
Данные хранятся в файле `data/json/db.json` в формате JSON:
- `books` - список книг с информацией о них
- `employees` - список сотрудников с их историей взятых книг и текущими книгами

## Процесс работы с системой
1. Зарегистрируйтесь или войдите в систему, используя свои учетные данные
2. На странице со списком книг вы можете просмотреть доступные книги
3. Нажмите на название книги для просмотра подробной информации
4. Используйте кнопку "Взять книгу", чтобы взять книгу в пользование
5. Перейдите в профиль, чтобы увидеть взятые книги и вернуть их
6. У каждого сотрудника есть лимит - не более 2 книг одновременно
7. Для возврата книги используйте кнопку "Вернуть" в профиле

## Маршруты системы
- `/` - главная страница (перенаправляет на профиль или страницу входа)
- `/registration` - страница регистрации нового пользователя
- `/login` - страница входа в систему
- `/profile` - страница профиля пользователя
- `/books` - список всех книг
- `/book/{id}` - детальная информация о книге
- `/borrow-book/{id}` - взять книгу
- `/return-book/{id}` - вернуть книгу

## Автор
Канатбек Эсеналиев